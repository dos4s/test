[ { "title": "Password Manager", "url": "/posts/PASSword-Manager/", "categories": "", "tags": "", "date": "2022-06-28 00:00:00 +0000", "snippet": "PASSInstallationapt install -y pass gpg2gpg2 --gen-keygpg2 --full-gen-keyConfigurationPASSWORD STORE gpg2 –list-secret-keys pass init GPG-KEY-ID### PASSWORD MANAGEMENT INSERT PWWD pass insert Compras/amazon.com/pepe GENERATE PWWD pass generate Compras/aliexpress.com/pepe 35 PASS EDIT pass edit Compras/amazon.com/pepe PASS DELETE pass rm Compras/amazon.com/pepe RETRIEVING PASSWORD (PLAIN TEXT) pass Compras/amazon.com/pepe (CLIPBOARD) pass -c Compras/amazon.com/pepe (SELECT ACCOUNT) passmenu + dmenu PASSWORD STORE EXPORT gpg2 –export-secret-keys KEY-ID » key-filename.gpg gpg2 –import key-filename.gpg// Modify trustu level to ultimate gpg2 –edit-key KEY-ID" }, { "title": "ISP Router Replacement", "url": "/posts/ISP-Router-Replacement/", "categories": "Networking", "tags": "ppoe, router", "date": "2022-01-11 00:00:00 +0000", "snippet": "ISP Router ReplacementIntroductionMost commercial ISPs provide low-budget routers with domestic internet subscriptions, offering limited features due to hardware or software constraints. What can’t you do with an ISP-provided router? Access via SSH, unless you hack it or convince the ISP to give you the credentials (which is unlikely). Assign a large number of static IP addresses; these routers typically have a limit on the number of entries. Create multiple ESSIDs (wireless networks). Customize the built-in Linux firewall (iptables). Subnet your network with multiple DHCP configurations. Add or configure advanced protocols beyond basic ones like UPnP, QoS, and SMB. Manage VLANs (Virtual Local Area Networks). Other features that may be restricted or undiscovered yet. What can you do with an ISP-provided router? Toast a sandwich! (In other words, not much in terms of advanced functionality.) ISP Network Topologies for regular customersWith that out of the way, let’s look at some typical ISP network topologies that you may find on home routersCGNAT (Carrier-Grade NAT)Some ISPs use CGNAT, which assigns private IP addresses to multiple customers’ routers. This means your home network shares a public IP address with others, preventing you from doing anything that requires port forwarding or public IP access.There are rumors that some ISPs will remove you from CGNAT if requested, but this isn’t always guaranteed.NEBAOther ISPs, like those using the NEBA network architecture, provide unique PPPoE connections per customer. In this setup, each customer’s router gets a unique public IP, allowing full control over port forwarding and other features.However, this also exposes your router directly to the internet, which, if not configured properly, will increase the risk of getting compromisedWhatever service you have, you can always replace the stock router with a more capable one.Replacing the ISP RouterFirst, you’ll need to obtain your PPPoE credentials. The process varies depending on your ISP’s topology (CGNAT, NEBA, etc.), but let’s start with how to extract those credentials.Obtaining PPPoE CredentialsThe ISP-provided router stores PPPoE credentials and, shortly after booting, authenticates with the ISP’s server by sending these credentials in plaintext.To capture these credentials, one method is to perform a MITM (Man-in-the-Middle) attack by setting up port mirroring from the WAN port to a LAN port and capturing network traffic on a connected computer. However, many stock routers don’t allow port mirroring, so this might not be an option.An alternative method is setting up a rogue PPPoE server to trick the router into authenticating against it. By capturing the traffic during this process, the PPPoE credentials can be revealed in plaintext.You can either do this manually or use this script, which automates the process to make it easier.Setting Up the New RouterOnce you’ve obtained the credentials, it’s time to set up the new router.Access the router’s management interface (usually via a web browser) and configure the WAN interface to use the PPPoE protocol. Input the credentials you extracted earlier.TroubleshootingIf the connection fails, the problem is likely due to VLAN settings. ISPs use specific VLAN IDs to separate different types of traffic (e.g., internet data, IPTV, VoIP) or to differentiate between ISPs.You’ll need to know which VLAN IDs your ISP uses in order to configure the correct VLANs on the WAN interface for successful PPPoE authentication." } ]
